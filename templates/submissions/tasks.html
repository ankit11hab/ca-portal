{% extends '../basic.html'%}
{%block title%}Tasks | Alcheringa {%endblock%}
{% block body %}
<body>
    <div class="bg-blue-50 flex">
        {% include "../navbar.html" %}
        <div class="flex">
            <div class="flex-grow">
                <!-- tasks -->
                {% include "dashboard/components/tasks.html" %}

                {% include "dashboard/components/recent_posts_for_phone.html" %}

            </div>
            <div class="bg-white w-80 border-gray-400 rounded m-4 hidden lg:block">
                {% include "dashboard/components/recent_posts_for_pc.html" %}
            </div>

        </div>
    </div>
    </div>

</body>
{%endblock%}
{% block script %}
<script>
    const btn = document.querySelector(".mobile");
    const sidebar = document.querySelector(".navbar");
    const arrow = document.querySelector(".side");
    const middle = document.querySelector(".Middle");
    // const alcher = document.querySelector(".Alcher");


    // alcher.addEventListener("click", () => {
    //     sidebar.classList.toggle("-translate-x-full"),
    //         middle.classList.add("sm:mx-96"),
    //         btn.classList.add("invisible")
    // });
    arrow.addEventListener("click", () => {
        middle.classList.remove("sm:mx-96")
        sidebar.classList.toggle("-translate-x-full"),
            btn.classList.remove("invisible")
    })



    const levelPoints = [185, 14];
    document.getElementById('level-value').innerText = levelPoints[0]

    // class initialization(myChat)
    var levelChart = new Chart(document.getElementById('level-pie').getContext('2d'), {
        type: 'doughnut',
        data: {
            datasets: [{
                data: levelPoints,
                backgroundColor: [
                    'rgba(232, 107, 115, 1)',
                    'rgba(243, 246, 248, 1)'
                ],
                borderWidth: 0,
                cutout: 62,
            }]
        },
        options: {
            plugins: {
                legend: false,
                tooltip: false,
            }
        }
    });


    const tasksCompletedPoints = [{{grp_tasks}}, 8];
    document.getElementById('tasks-completed-value').innerText = tasksCompletedPoints[0]

    // class initialization(myChat)
    var tasksCompletedChart = new Chart(document.getElementById('tasks-completed-pie').getContext('2d'), {
        type: 'doughnut',
        data: {
            datasets: [{
                data: tasksCompletedPoints,
                backgroundColor: [
                    'rgba(0, 201, 92, 1)',
                    'rgba(243, 246, 248, 1)'
                ],
                borderWidth: 0,
                cutout: 62,
            }]
        },
        options: {
            tooltips: {
                enabled: false
            }
        }
    });



    const referralsPoints = [16, 3];
    document.getElementById('referrals-value').innerText = referralsPoints[0]

    // class initialization(myChat)
    var referralsChart = new Chart(document.getElementById('referrals-pie').getContext('2d'), {
        type: 'doughnut',
        data: {
            datasets: [{
                data: referralsPoints,
                backgroundColor: [
                    'rgba(255, 161, 51, 1)',
                    'rgba(243, 246, 248, 1)'
                ],
                borderWidth: 0,
                cutout: 62,
            }]
        },
        options: {
            tooltips: {
                enabled: false
            }
        }
    });

    // class initialization(myChat)
    var profileChart = new Chart(document.getElementById('profile-pie').getContext('2d'), {
        type: 'doughnut',
        data: {
            datasets: [{
                data: tasksCompletedPoints,
                backgroundColor: [
                    'rgba(0, 201, 92, 1)',
                    'rgba(243, 246, 248, 1)'
                ],
                borderWidth: 0,
                cutout: 92,
            }]
        },
        options: {
            plugins: {
                legend: false,
                tooltip: {
                    enabled: false
                },
            },
        }
    });
</script>
{% endblock %}